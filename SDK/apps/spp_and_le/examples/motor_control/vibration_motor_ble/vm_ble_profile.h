#ifndef VM_BLE_PROFILE_H
#define VM_BLE_PROFILE_H

#include <stdint.h>

/* 
 * GATT Profile for Vibration Motor BLE Service
 * 
 * Service UUID: 9A501A2D-594F-4E2B-B123-5F739A2D594F
 * 
 * Motor Control Characteristic UUID: 9A511A2D-594F-4E2B-B123-5F739A2D594F
 *   Property: Write Without Response
 *   Packet Format: 2 bytes (duty_cycle: 0-10000)
 * 
 * Device Info Characteristic UUID: 9A521A2D-594F-4E2B-B123-5F739A2D594F
 *   Property: Read
 *   Response: 6 bytes (header, cmd, motor_count, fw_low, fw_high, battery)
 * 
 * Security: LESC + Just-Works (enforced by stack)
 * 
 * Profile format based on SDK/apps/spp_and_le/examples/trans_data/ble_trans_profile.h
 */

static const uint8_t vm_motor_profile_data[] = {
    //////////////////////////////////////////////////////
    //
    // 0x0001 PRIMARY_SERVICE  9A501A2D-594F-4E2B-B123-5F739A2D594F
    //
    //////////////////////////////////////////////////////
    // Service declaration: 128-bit UUID
    0x18, 0x00, 0x02, 0x00, 0x01, 0x00, 0x00, 0x28,
    // UUID bytes (little-endian): 9A501A2D-594F-4E2B-B123-5F739A2D594F
    0x4F, 0x59, 0x2D, 0x9A, 0x73, 0x5F, 0x23, 0xB1,
    0x2B, 0x4E, 0x4F, 0x59, 0x2D, 0x1A, 0x50, 0x9A,

    /* CHARACTERISTIC, 9A511A2D-594F-4E2B-B123-5F739A2D594F, WRITE_WITHOUT_RESPONSE | DYNAMIC */
    // 0x0002 CHARACTERISTIC 9A511A2D... WRITE_WITHOUT_RESPONSE | DYNAMIC
    0x1b, 0x00, 0x02, 0x00, 0x02, 0x00, 0x03, 0x28,
    0x04,  // Property: Write Without Response (0x04)
    0x03, 0x00,  // Value handle
    // UUID bytes (little-endian): 9A511A2D-594F-4E2B-B123-5F739A2D594F
    0x4F, 0x59, 0x2D, 0x9A, 0x73, 0x5F, 0x23, 0xB1,
    0x2B, 0x4E, 0x4F, 0x59, 0x2D, 0x1A, 0x51, 0x9A,

    // 0x0003 VALUE 9A511A2D... WRITE_WITHOUT_RESPONSE | DYNAMIC
    0x16, 0x00, 0x04, 0x01, 0x03, 0x00,
    // UUID bytes (little-endian): 9A511A2D-594F-4E2B-B123-5F739A2D594F
    0x4F, 0x59, 0x2D, 0x9A, 0x73, 0x5F, 0x23, 0xB1,
    0x2B, 0x4E, 0x4F, 0x59, 0x2D, 0x1A, 0x51, 0x9A,

    /* CHARACTERISTIC, 9A521A2D-594F-4E2B-B123-5F739A2D594F, WRITE_WITHOUT_RESPONSE | NOTIFY | DYNAMIC */
    // 0x0004 CHARACTERISTIC 9A521A2D... WRITE_WITHOUT_RESPONSE | NOTIFY | DYNAMIC
    0x1b, 0x00, 0x02, 0x00, 0x04, 0x00, 0x03, 0x28,
    0x14,  // Property: WRITE_WITHOUT_RESPONSE (0x04) | NOTIFY (0x10) = 0x14
    0x05, 0x00,  // Value handle
    // UUID bytes (little-endian): 9A521A2D-594F-4E2B-B123-5F739A2D594F
    0x4F, 0x59, 0x2D, 0x9A, 0x73, 0x5F, 0x23, 0xB1,
    0x2B, 0x4E, 0x4F, 0x59, 0x2D, 0x1A, 0x52, 0x9A,

    // 0x0005 VALUE 9A521A2D... WRITE_WITHOUT_RESPONSE | NOTIFY | DYNAMIC
    0x16, 0x00, 0x0a, 0x01, 0x05, 0x00,
    // UUID bytes (little-endian): 9A521A2D-594F-4E2B-B123-5F739A2D594F
    0x4F, 0x59, 0x2D, 0x9A, 0x73, 0x5F, 0x23, 0xB1,
    0x2B, 0x4E, 0x4F, 0x59, 0x2D, 0x1A, 0x52, 0x9A,
    
    // 0x0006 CLIENT_CHARACTERISTIC_CONFIGURATION (for notifications)
    0x08, 0x00, 0x0a, 0x01, 0x06, 0x00, 0x02, 0x29,

#if RCSP_BTMATE_EN
    //////////////////////////////////////////////////////
    //
    // 0x0007 PRIMARY_SERVICE  ae30 (RCSP/JL OTA Service)
    //
    //////////////////////////////////////////////////////
    0x0a, 0x00, 0x02, 0x00, 0x07, 0x00, 0x00, 0x28, 0x30, 0xae,

    /* CHARACTERISTIC,  ae01, WRITE_WITHOUT_RESPONSE | DYNAMIC, */
    // 0x0008 CHARACTERISTIC ae01 WRITE_WITHOUT_RESPONSE | DYNAMIC
    0x0d, 0x00, 0x02, 0x00, 0x08, 0x00, 0x03, 0x28, 0x04, 0x09, 0x00, 0x01, 0xae,
    // 0x0009 VALUE ae01 WRITE_WITHOUT_RESPONSE | DYNAMIC
    0x08, 0x00, 0x04, 0x01, 0x09, 0x00, 0x01, 0xae,

    /* CHARACTERISTIC,  ae02, NOTIFY, */
    // 0x000a CHARACTERISTIC ae02 NOTIFY
    0x0d, 0x00, 0x02, 0x00, 0x0a, 0x00, 0x03, 0x28, 0x10, 0x0b, 0x00, 0x02, 0xae,
    // 0x000b VALUE ae02 NOTIFY
    0x08, 0x00, 0x10, 0x00, 0x0b, 0x00, 0x02, 0xae,
    // 0x000c CLIENT_CHARACTERISTIC_CONFIGURATION
    0x0a, 0x00, 0x0a, 0x01, 0x0c, 0x00, 0x02, 0x29, 0x00, 0x00,

    /* CHARACTERISTIC,  ae03, WRITE_WITHOUT_RESPONSE | DYNAMIC, */
    // 0x000d CHARACTERISTIC ae03 WRITE_WITHOUT_RESPONSE | DYNAMIC
    0x0d, 0x00, 0x02, 0x00, 0x0d, 0x00, 0x03, 0x28, 0x04, 0x0e, 0x00, 0x03, 0xae,
    // 0x000e VALUE ae03 WRITE_WITHOUT_RESPONSE | DYNAMIC
    0x08, 0x00, 0x04, 0x01, 0x0e, 0x00, 0x03, 0xae,

    /* CHARACTERISTIC,  ae04, NOTIFY, */
    // 0x000f CHARACTERISTIC ae04 NOTIFY
    0x0d, 0x00, 0x02, 0x00, 0x0f, 0x00, 0x03, 0x28, 0x10, 0x10, 0x00, 0x04, 0xae,
    // 0x0010 VALUE ae04 NOTIFY
    0x08, 0x00, 0x10, 0x00, 0x10, 0x00, 0x04, 0xae,
    // 0x0011 CLIENT_CHARACTERISTIC_CONFIGURATION
    0x0a, 0x00, 0x0a, 0x01, 0x11, 0x00, 0x02, 0x29, 0x00, 0x00,

    /* CHARACTERISTIC,  ae05, INDICATE, */
    // 0x0012 CHARACTERISTIC ae05 INDICATE
    0x0d, 0x00, 0x02, 0x00, 0x12, 0x00, 0x03, 0x28, 0x20, 0x13, 0x00, 0x05, 0xae,
    // 0x0013 VALUE ae05 INDICATE
    0x08, 0x00, 0x20, 0x00, 0x13, 0x00, 0x05, 0xae,
    // 0x0014 CLIENT_CHARACTERISTIC_CONFIGURATION
    0x0a, 0x00, 0x0a, 0x01, 0x14, 0x00, 0x02, 0x29, 0x00, 0x00,

    /* CHARACTERISTIC,  ae10, READ | WRITE | DYNAMIC, */
    // 0x0015 CHARACTERISTIC ae10 READ | WRITE | DYNAMIC
    0x0d, 0x00, 0x02, 0x00, 0x15, 0x00, 0x03, 0x28, 0x0a, 0x16, 0x00, 0x10, 0xae,
    // 0x0016 VALUE ae10 READ | WRITE | DYNAMIC
    0x08, 0x00, 0x0a, 0x01, 0x16, 0x00, 0x10, 0xae,
#endif

    // END
    0x00, 0x00,
};

// Characteristic handles
#define ATT_CHARACTERISTIC_VM_MOTOR_CONTROL_VALUE_HANDLE 0x0003
#define ATT_CHARACTERISTIC_VM_DEVICE_INFO_VALUE_HANDLE   0x0005
#define ATT_CHARACTERISTIC_VM_DEVICE_INFO_CLIENT_CONFIGURATION_HANDLE 0x0006

#if RCSP_BTMATE_EN
// RCSP OTA Service handles
#define ATT_CHARACTERISTIC_ae01_02_VALUE_HANDLE 0x0009
#define ATT_CHARACTERISTIC_ae02_02_VALUE_HANDLE 0x000b
#define ATT_CHARACTERISTIC_ae02_02_CLIENT_CONFIGURATION_HANDLE 0x000c
#define ATT_CHARACTERISTIC_ae03_02_VALUE_HANDLE 0x000e
#define ATT_CHARACTERISTIC_ae04_02_VALUE_HANDLE 0x0010
#define ATT_CHARACTERISTIC_ae04_02_CLIENT_CONFIGURATION_HANDLE 0x0011
#define ATT_CHARACTERISTIC_ae05_02_VALUE_HANDLE 0x0013
#define ATT_CHARACTERISTIC_ae05_02_CLIENT_CONFIGURATION_HANDLE 0x0014
#define ATT_CHARACTERISTIC_ae10_02_VALUE_HANDLE 0x0016
#endif

#endif /* VM_BLE_PROFILE_H */
